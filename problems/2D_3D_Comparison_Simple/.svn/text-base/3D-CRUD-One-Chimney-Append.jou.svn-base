
undo on
brick x {1000 * chimney_density_m ^ (-0.5)} y {1000 * chimney_density_m ^ (-0.5)} z {0.571 + (crud_thickness_microns / 1000)}
webcut volume 1 with plane zplane offset {(0.571 - (crud_thickness_microns / 1000)) / 2} imprint merge
webcut volume 2 with plane zplane offset {(0.569 - (crud_thickness_microns / 1000)) / 2} imprint merge
webcut volume 1 2 3 with cylinder radius {(chimney_radius_microns / 1000) / 2} axis z
delete volume 4
split periodic volume 1 2 3 5 6
merge all
curve 14 15 16 13 interval 4
curve 14 15 16 13 scheme equal
mesh curve 14 15 16 13
curve 60 61 interval 8
curve 60 61 scheme equal
mesh curve 60 61
surface 38 scheme circle interval 4 fraction 0.75
mesh surface 38
curve 33 35 36 34 interval 5
curve 33 35 36 34 scheme equal
mesh curve 33 35 36 34
surface 28 scheme hole rad_intervals 3
mesh surface 28
volume 2 redistribute nodes off
volume 2 scheme sweep source surface 28 target surface 34 sweep_smooth linear sweep_transform translate autosmooth_target off
mesh volume 2
volume 5 scheme sweep source surface 38 target surface 37 sweep_smooth linear sweep_transform translate autosmooth_target off
mesh volume 5
curve 19 20 18 17 57 interval 5
curve 19 20 18 17 57 scheme equal
mesh curve 19 20 18 17 57
curve 59 interval 5
curve 59 scheme equal
mesh curve 59
volume 1 scheme sweep source surface 28 target surface 29 sweep_smooth linear sweep_transform translate autosmooth_target off
mesh volume 1
curve 44 42 43 41 69 scheme fine size 0.0001 equal
mesh curve 44 42 43 41 69
curve 71 interval 61
curve 71 scheme equal
mesh curve 71
volume 6 redistribute nodes off
volume 6 scheme sweep source surface 37 target surface 44 sweep_smooth linear sweep_transform translate autosmooth_target off
mesh volume 6
volume 3 redistribute nodes off
volume 3 scheme sweep source surface 34 target surface 41 sweep_smooth linear sweep_transform translate autosmooth_target off
mesh volume 3
set duplicate block elements off
block 1 volume 1
set duplicate block elements off
block 2 volume 2 5
set duplicate block elements off
block 3 volume 3 6
sideset 1 surface 20 9 19 21 18 23 24 25 26
sideset 2 surface 29
sideset 3 surface 45 46
sideset 4 surface 28
sideset 5 surface 38
sideset 6 surface 34 37
sideset 7 surface 41 44
sideset 8 surface 8
sideset 9 surface 9
sideset 10 surface 10
sideset 11 surface 11
sideset 1 name "Symmetric"
sideset 2 name "CRUD-Coolant"
sideset 3 name "CRUD-Chimney"
sideset 4 name "CRUD-Oxide"
sideset 5 name "Oxide-Chimney"
sideset 6 name "Oxide-Metal"
sideset 7 name "Clad-Fuel"
sideset 8 name "Periodic_y+"
sideset 9 name "Periodic_x-"
sideset 10 name "Periodic_y-"
sideset 11 name "Periodic_x+"
block 1 name "CRUD"
block 2 name "Oxide"
block 3 name "Clad"

delete block 2
delete block 3

export mesh "/home/hereiam/projects/trunk/problems/mamba/2D_3D_Comparison_Simple/MAMBA-3D-One-Chimney.e" overwrite
